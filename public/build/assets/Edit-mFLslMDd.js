import{x as p,r as b,j as e,Q as j}from"./app-8ii9sWKz.js";import{A as y}from"./AdminLayout-CFJ7BqXK.js";import{F as N}from"./ArrowLeftIcon-Byawp9sJ.js";import{F as v}from"./PhotoIcon-CIvPX_X0.js";import{F as w}from"./TagIcon-BFobDGBp.js";import{F as _}from"./HomeIcon-DvHQDzPR.js";import"./XMarkIcon-DV7qdyij.js";import"./EyeIcon-BlQDFovb.js";function M({auth:m,article:r,categories:x}){const{data:a,setData:i,post:g,processing:o,errors:s}=p({title:r.title||"",excerpt:r.excerpt||"",content:r.content||"",category:r.category||"general",tags:r.tags||[],featured_image:null,status:r.status||"draft",is_featured:r.is_featured||!1,meta_title:r.meta_title||"",meta_description:r.meta_description||"",_method:"PUT"}),[l,n]=b.useState(""),u=t=>{t.preventDefault(),g(`/admin/articles/${r.id}`,{forceFormData:!0})},c=()=>{l.trim()&&!a.tags.includes(l.trim())&&(i("tags",[...a.tags,l.trim()]),n(""))},h=t=>{i("tags",a.tags.filter(d=>d!==t))},f=t=>{t.key==="Enter"&&(t.preventDefault(),c())};return e.jsxs(y,{user:m.user,children:[e.jsx(j,{title:"Edit Article"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Article"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Update your legal article"})]}),e.jsxs("a",{href:"/admin/articles",className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Back to Articles"]})]})}),e.jsxs("form",{onSubmit:u,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Article Details"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),e.jsx("input",{type:"text",id:"title",value:a.title,onChange:t=>i("title",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter article title",required:!0}),s.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-gray-700",children:"Excerpt"}),e.jsx("textarea",{id:"excerpt",rows:3,value:a.excerpt,onChange:t=>i("excerpt",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Brief description of the article (optional - will be auto-generated if empty)"}),s.excerpt&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.excerpt})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Content *"}),e.jsx("textarea",{id:"content",rows:15,value:a.content,onChange:t=>i("content",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Write your article content here. You can use HTML tags for formatting.",required:!0}),s.content&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.content}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You can use HTML tags like <p>, <h2>, <ul>, <li>, <strong>, <em> for formatting."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category *"}),e.jsx("select",{id:"category",value:a.category,onChange:t=>i("category",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0,children:Object.entries(x).map(([t,d])=>e.jsx("option",{value:t,children:d},t))}),s.category&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.category})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status *"}),e.jsxs("select",{id:"status",value:a.status,onChange:t=>i("status",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0,children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"})]}),s.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.status})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"featured_image",className:"block text-sm font-medium text-gray-700",children:"Featured Image"}),r.featured_image&&e.jsxs("div",{className:"mt-2 mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current image:"}),e.jsx("img",{src:`/storage/${r.featured_image}`,alt:r.title,className:"w-48 h-32 object-cover rounded-lg border border-gray-300"})]}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(v,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"featured_image",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[e.jsx("span",{children:r.featured_image?"Replace image":"Upload a file"}),e.jsx("input",{id:"featured_image",type:"file",accept:"image/*",onChange:t=>i("featured_image",t.target.files[0]),className:"sr-only"})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 2MB"})]})}),s.featured_image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.featured_image})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Tags"}),e.jsxs("div",{className:"mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("input",{type:"text",value:l,onChange:t=>n(t.target.value),onKeyPress:f,className:"flex-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Add a tag and press Enter"}),e.jsxs("button",{type:"button",onClick:c,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((t,d)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["#",t,e.jsx("button",{type:"button",onClick:()=>h(t),className:"ml-1 text-indigo-600 hover:text-indigo-800",children:"Ã—"})]},d))})]}),s.tags&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.tags})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_featured",type:"checkbox",checked:a.is_featured,onChange:t=>i("is_featured",t.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_featured",className:"ml-2 block text-sm text-gray-900",children:"Mark as featured article"})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"SEO Settings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Optimize your article for search engines"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"meta_title",className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),e.jsx("input",{type:"text",id:"meta_title",value:a.meta_title,onChange:t=>i("meta_title",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"SEO title (leave empty to use article title)",maxLength:60}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[a.meta_title.length,"/60 characters"]}),s.meta_title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.meta_title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"meta_description",className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),e.jsx("textarea",{id:"meta_description",rows:3,value:a.meta_description,onChange:t=>i("meta_description",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"SEO description (leave empty to use excerpt)",maxLength:160}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[a.meta_description.length,"/160 characters"]}),s.meta_description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.meta_description})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("a",{href:"/admin/articles",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),o?"Updating...":"Update Article"]})]})]})]})})]})}export{M as default};

import{r as j,x as N,j as e,Q as w,t as m,S as v}from"./app2.js";import{A as R}from"./AdminLayout-CA9t8iTo.js";import{F as c}from"./ArrowLeftIcon-3sOzk9Cr.js";import{F}from"./TrashIcon-CkX595jR.js";import{F as x}from"./PaperAirplaneIcon-5vIWJYTj.js";import{a as g}from"./XMarkIcon-DvlfLOeu.js";import{F as S}from"./CheckCircleIcon-C2jnGy7x.js";import{F as _}from"./EyeIcon-CuARlRRc.js";import{F as $}from"./ClockIcon-D-sImXRf.js";import"./HomeIcon-BtCkMBaV.js";function P({auth:h,inquiry:s,flash:r}){const[i,a]=j.useState(!1),{data:u,setData:p,post:f,processing:n,errors:o,reset:l}=N({admin_reply:""}),y=t=>{t.preventDefault(),f(`/admin/inquiries/${s.id}`,{onSuccess:()=>{l(),a(!1)}})},b=()=>{confirm("Are you sure you want to delete this inquiry?")&&v.delete(`/admin/inquiries/${s.id}`)},d=(t=>({unread:{bg:"bg-red-100",text:"text-red-800",icon:g},read:{bg:"bg-yellow-100",text:"text-yellow-800",icon:_},replied:{bg:"bg-green-100",text:"text-green-800",icon:S}})[t]||{bg:"bg-gray-100",text:"text-gray-800",icon:$})(s.status);return e.jsxs(R,{user:h.user,children:[e.jsx(w,{title:`Inquiry from ${s.name||"Anonymous"}`}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{href:"/admin/inquiries",className:"mr-4 text-gray-500 hover:text-gray-700",children:e.jsx(c,{className:"h-5 w-5"})}),e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Inquiry from ",s.name||"Anonymous"]})]}),e.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(F,{className:"-ml-1 mr-2 h-4 w-4"}),"Delete"]})]})}),(r==null?void 0:r.success)&&e.jsx("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:r.success}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Inquiry Information"}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.bg} ${d.text}`,children:[e.jsx(d.icon,{className:"h-3 w-3 mr-1"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:s.name||e.jsx("span",{className:"text-gray-400 italic",children:"Anonymous"})})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:s.email?e.jsx("a",{href:`mailto:${s.email}`,className:"text-indigo-600 hover:text-indigo-500",children:s.email}):e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Received"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.ip_address&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"IP Address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:s.ip_address})]})]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Message"})}),e.jsx("div",{className:"px-6 py-6",children:e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.message})})})]}),s.status==="replied"&&s.admin_reply?e.jsxs("div",{className:"bg-green-50 shadow rounded-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Your Reply"}),e.jsxs("span",{className:"text-sm text-green-600",children:["Sent ",new Date(s.replied_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-green-800 whitespace-pre-wrap",children:s.admin_reply})})})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Reply to Inquiry"}),!i&&e.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(x,{className:"-ml-1 mr-2 h-4 w-4"}),"Reply"]})]})}),i?e.jsxs("form",{onSubmit:y,className:"px-6 py-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"admin_reply",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Reply"}),e.jsx("textarea",{id:"admin_reply",rows:6,value:u.admin_reply,onChange:t=>p("admin_reply",t.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Type your reply here...",required:!0}),o.admin_reply&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.admin_reply})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),l()},className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:n?"Sending...":"Send Reply"})]})]}):e.jsxs("div",{className:"px-6 py-6 text-center text-gray-500",children:[e.jsx(x,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No reply sent yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Click the Reply button above to respond to this inquiry."})]})]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsxs(m,{href:"/admin/inquiries",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(c,{className:"-ml-1 mr-2 h-4 w-4"}),"Back to Inquiries"]}),s.email&&e.jsxs("a",{href:`mailto:${s.email}?subject=Re: Your inquiry`,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(g,{className:"-ml-1 mr-2 h-4 w-4"}),"Reply via Email"]})]})]})})]})}export{P as default};
